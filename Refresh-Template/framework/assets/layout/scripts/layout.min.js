var Layout=function(){var e="layout/img/",a="layout/css/",n=App.getResponsiveBreakpoint("md"),o=function(){$(".page-header").on("click",".search-form",function(e){$(this).addClass("open"),$(this).find(".form-control").focus(),$(".page-header .search-form .form-control").on("blur",function(e){$(this).closest(".search-form").removeClass("open"),$(this).unbind("blur")})}),$(".page-header").on("keypress",".hor-menu .search-form .form-control",function(e){if(13==e.which)return $(this).closest(".search-form").submit(),!1}),$(".page-header").on("mousedown",".search-form.open .submit",function(e){e.preventDefault(),e.stopPropagation(),$(this).closest(".search-form").submit()}),$("body").on("click",".page-header-top-fixed .page-header-top .menu-toggler",function(){App.scrollTop()}),$(".nav-btn").click(function(e){e.preventDefault();var a=$(this).prop("href"),n=a.substring(a.indexOf("#")+1),o=$("#"+n).offset().top;$("html, body").animate({scrollTop:o},500)})},t=function(){$(".page-header .menu-toggler").on("click",function(e){if(App.getViewPort().width<n){var a=$(".page-header .page-header-menu");a.is(":visible")?a.slideUp(300):a.slideDown(300),$("body").hasClass("page-header-top-fixed")&&App.scrollTop()}}),$(".hor-menu .menu-dropdown > a, .hor-menu .dropdown-submenu > a").on("click",function(e){App.getViewPort().width<n&&$(this).next().hasClass("dropdown-menu")&&($(this).parent().hasClass("opened")?$(this).parent().removeClass("opened"):$(this).parent().addClass("opened"))}),App.getViewPort().width>=n&&$('.hor-menu [data-hover="megamenu-dropdown"]').not(".hover-initialized").each(function(){$(this).dropdownHover(),$(this).addClass("hover-initialized")}),$(document).on("click",'.hor-menu .menu-dropdown > a[data-hover="megamenu-dropdown"]',function(){App.getViewPort().width<n&&App.scrollTo($(this))}),$(".hor-menu li > a").on("click",function(e){App.getViewPort().width<n&&($(this).parent("li").hasClass("classic-menu-dropdown")||$(this).parent("li").hasClass("mega-menu-dropdown")||$(this).parent("li").hasClass("dropdown-submenu")||($(".page-header .page-header-menu").slideUp(300),App.scrollTop()))}),$(document).on("click",".mega-menu-dropdown .dropdown-menu, .classic-menu-dropdown .dropdown-menu",function(e){e.stopPropagation()}),$(window).scroll(function(){var e=220;$("body").hasClass("page-header-menu-fixed")&&($(window).scrollTop()>e?$(".page-header-menu").addClass("fixed"):$(".page-header-menu").removeClass("fixed")),$("body").hasClass("page-header-top-fixed")&&($(window).scrollTop()>e?$(".page-header-top").addClass("fixed"):$(".page-header-top").removeClass("fixed"))}),$(window).scroll(function(){var e=213;$("body").hasClass("page-header-menu-fixed-alt")&&($(window).scrollTop()>e?$(".page-header-menu").addClass("fixed"):$(".page-header-menu").removeClass("fixed")),$("body").hasClass("page-header-top-fixed-alt")&&($(window).scrollTop()>e?$(".page-header-top").addClass("fixed"):$(".page-header-top").removeClass("fixed"))}),$(window).scroll(function(){var e=211;$("body").hasClass("page-header-menu-fixed-no-department")&&($(window).scrollTop()>e?$(".page-header-menu").addClass("fixed"):$(".page-header-menu").removeClass("fixed")),$("body").hasClass("page-header-top-fixed-no-department")&&($(window).scrollTop()>e?$(".page-header-top").addClass("fixed"):$(".page-header-top").removeClass("fixed"))}),$(window).scroll(function(){var e=216;$("body").hasClass("page-header-menu-fixed-no-department-alt")&&($(window).scrollTop()>e?$(".page-header-menu").addClass("fixed"):$(".page-header-menu").removeClass("fixed")),$("body").hasClass("page-header-top-fixed-no-department-alt")&&($(window).scrollTop()>e?$(".page-header-top").addClass("fixed"):$(".page-header-top").removeClass("fixed"))})},s=function(e,a){var n=location.hash.toLowerCase(),o=$(".hor-menu");"click"===e||"set"===e?a=$(a):"match"===e&&o.find("li > a").each(function(){var e=$(this).attr("href").toLowerCase();if(e.length>1&&n.substr(1,e.length-1)==e.substr(1))return void(a=$(this))}),a&&0!=a.size()&&"javascript:;"!==a.attr("href").toLowerCase()&&"#"!==a.attr("href").toLowerCase()&&(o.find("li.active").removeClass("active"),o.find("li > a > .selected").remove(),o.find("li.open").removeClass("open"),a.parents("li").each(function(){$(this).addClass("active"),1===$(this).parent("ul.navbar-nav").size()&&$(this).find("> a").append('<span class="selected"></span>')}))},i=function(){var e=App.getViewPort().width,a=$(".page-header-menu");e>=n&&"desktop"!==a.data("breakpoint")?($('.hor-menu [data-toggle="dropdown"].active').removeClass("open"),a.data("breakpoint","desktop"),$('.hor-menu [data-hover="megamenu-dropdown"]').not(".hover-initialized").each(function(){$(this).dropdownHover(),$(this).addClass("hover-initialized")}),$(".hor-menu .navbar-nav li.open").removeClass("open"),$(".page-header-menu").css("display","block")):e<n&&"mobile"!==a.data("breakpoint")&&($('.hor-menu [data-toggle="dropdown"].active').addClass("open"),$(".page-header-menu").css("display","none"),a.data("breakpoint","mobile"),$('.hor-menu [data-hover="megamenu-dropdown"].hover-initialized').each(function(){$(this).unbind("hover"),$(this).parent().unbind("hover").find(".dropdown-submenu").each(function(){$(this).unbind("hover")}),$(this).removeClass("hover-initialized")}))},d=function(){return},r=function(){var e=100,a=500;navigator.userAgent.match(/iPhone|iPad|iPod/i)?$(window).bind("touchend touchcancel touchleave",function(n){$(this).scrollTop()>e?$(".scroll-to-top").fadeIn(a):$(".scroll-to-top").fadeOut(a)}):$(window).scroll(function(){$(this).scrollTop()>e?$(".scroll-to-top").fadeIn(a):$(".scroll-to-top").fadeOut(a)}),$(".scroll-to-top").click(function(e){return e.preventDefault(),$("html, body").animate({scrollTop:0},a),!1})},l=function(){var e=0,a=$("nav.navbar-desktop").find("> ul > li").each(function(){$(this).attr("data-id",e),e++});e="",a.focusin(function(){clearit="",$(this).attr("data-id")!=e&&($(this).addClass("open"),""!=e&&$(a[e]).removeClass("open"),e=$(this).attr("data-id"))}),a.focusout(function(){clearit="clear",setTimeout(function(){"clear"==clearit&&$(a[e]).removeClass("open")},15)}),$(".arrow").click(function(e){e.preventDefault();var a=$(this),n=a.parent().next("ul");n.is(":hidden")?(n.slideDown(300),a.addClass("opened")):(n.slideUp(300),a.removeClass("opened"))})};return $(document).ready(function(){function e(n){window.setTimeout(function(){$(n).length?a():e(n)},500)}function a(){if("results"==t[2]){$(".gsc-tabsArea > div > div").each(function(){0==$(this)[0].tabIndex?$(".gsc-tabsArea > div > span:first").after($(this)):$(".gsc-tabsArea > div").prepend($(this))})}}function n(){App.getViewPort().width<App.getResponsiveBreakpoint("sm")?i.append(s):i.prepend(s)}var o=window.location.pathname,t=o.split("/");4==t.length?($(".navbar-desktop a[href='"+o+"']").parent().addClass("active"),$(".navbar-desktop a[href='"+o+"']").parentsUntil("ul.nav").addClass("active")):t.length>4&&($(".navbar-desktop a[href='/"+t[1]+"/"+t[2]+"/"+t[3]+"/']").parent().addClass("active"),$(".navbar-desktop a[href='/"+t[1]+"/"+t[2]+"/"+t[3]+"/']").parentsUntil("ul.nav").slice(2).addClass("active")),5==t.length?$(".page-sidebar a[href='"+o+"']").parent().addClass("open active current"):6==t.length&&""==t[5]?($(".page-sidebar a[href='"+o+"']").parent().addClass("open current"),$(".page-sidebar a[href='/"+t[1]+"/"+t[2]+"/"+t[3]+"/']").parent().addClass("open active")):6==t.length&&""!=t[5]&&($(".page-sidebar a[href='"+o+"']").parent().addClass("current"),$(".page-sidebar a[href='/"+t[1]+"/"+t[2]+"/"+t[3]+"/"+t[4]+"/']").parent().addClass("open"),$(".page-sidebar a[href='/"+t[1]+"/"+t[2]+"/"+t[3]+"/']").parent().addClass("open active")),e(".gsc-tabsArea"),window.addEventListener("resize",n);var s=$("body").not("#subpage-three-column, #staff-profile").find("div.body-column aside"),i=$("body").not("#subpage-three-column, #staff-profile").find("div.body-column"),d=0,r=($("nav.navbar-desktop>ul>li").each(function(){d+=Number($(this).width())}),$(".sidebar-desktop"));r.height()>r.next().height()&&(r.next().css("border-left","none"),r.css({"margin-bottom":"0px","padding-bottom":"36px","border-right":"1px solid #eeeeee"})),$(".tab-section").each(function(){$(this).append('<div class="print-mode"></div>'),$(this).find(".print-mode").append($(this).find(".tabbable").html())}),$("div.tab-section .tabbable ul.nav.nav-tabs.sub").each(function(){$("div.tab-section ul.nav.nav-tabs:not('.sub')").append("<li>"+$(this).find(">li:nth-child(2)").html()+"</li>"),$(this).hide().find("+div.tab-pane.fade.active.in").removeClass("active").removeClass("in")}),$("section.tab-section .tabbable ul.nav.nav-tabs.sub").each(function(){$("section.tab-section ul.nav.nav-tabs:not('.sub')").append("<li>"+$(this).find(">li:nth-child(2)").html()+"</li>"),$(this).hide().find("+div.tab-pane.fade.active.in").removeClass("active").removeClass("in")}),$("section div.panel-collapse.collapse.in").removeClass("in"),$("section a.accordion-toggle.accordion-toggle-styled.collapse").addClass("collapsed"),$("div div.panel-collapse.collapse.in").removeClass("in"),$("div a.accordion-toggle.accordion-toggle-styled.collapse").addClass("collapsed"),$(".nav-tabs").tabdrop("layout")}),window.addEventListener("keydown",function(e){(114===e.keyCode||(e.ctrlKey||e.metaKey)&&70===e.keyCode)&&($("ul.nav.nav-tabs:not('.sub')").find(">li:nth-child(2)").addClass("active"),$("ul.nav.nav-tabs:not('.sub')").find(">li:gt(1)").removeClass("active").html(""),$("ul.nav.nav-tabs:not('.sub')").find("+div").addClass("active").addClass("in"),$("ul.nav.nav-tabs.sub").show().find("+div.tab-pane.fade").addClass("active").addClass("in"),$("section div.panel-collapse.collapse").addClass("in").css("height",""),$("section a.accordion-toggle.accordion-toggle-styled").removeClass("collapsed"),$("div div.panel-collapse.collapse").addClass("in").css("height",""),$("div a.accordion-toggle.accordion-toggle-styled").removeClass("collapsed"))}),l(),{initHeader:function(){o(),t(),App.addResizeHandler(i),App.isAngularJsApp()&&s("match")},initContent:function(){d()},initFooter:function(){r()},init:function(){this.initHeader(),this.initContent(),this.initFooter()},setMainMenuActiveLink:function(e,a){s(e,a)},closeMainMenu:function(){$(".hor-menu").find("li.open").removeClass("open"),App.getViewPort().width<n&&$(".page-header-menu").is(":visible")&&$(".page-header .menu-toggler").click()},getLayoutImgPath:function(){return App.getAssetsPath()+e},getLayoutCssPath:function(){return App.getAssetsPath()+a}}}();App.isAngularJsApp()===!1&&jQuery(document).ready(function(){Layout.init(),$(".carousel").swiperight(function(){$(this).carousel("prev")}),$(".carousel").swipeleft(function(){$(this).carousel("next")}),$(".page-content-inner").fitVids(),$(function(){$(".user-content ul li").wrapInner("<span>"),$(".portlet-body ul li").wrapInner("<span>"),$(".panel-body ul li").wrapInner("<span>"),$(".tab-pane ul li").wrapInner("<span>"),$(".feed-container ul li").wrapInner("<span>"),$(".user-content ol li").wrapInner("<span>"),$(".portlet-body ol li").wrapInner("<span>"),$(".panel-body ol li").wrapInner("<span>"),$(".tab-pane ol li").wrapInner("<span>")}),$('main section:last div.subfeatures[class*="col-"]').each(function(){$(this).addClass("subfeatures-last")})});